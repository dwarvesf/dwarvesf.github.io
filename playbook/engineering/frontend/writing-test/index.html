<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content><meta name=description property="og:description" content><meta name=keywords content><meta property="og:type" content="website"><meta property="og:url" content="https://note.d.foundation/playbook/engineering/frontend/writing-test/"><meta property="og:image" content="https://note.d.foundation/img/LOGO.png"><link rel=icon type=image/x-icon href=https://note.d.foundation/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://note.d.foundation/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://note.d.foundation/favicon-32x32.png><link rel=apple-touch-icon href=https://note.d.foundation/apple-touch-icon.png><title>| Dwarves Foundation</title><meta name=description content><link rel=canonical href=https://note.d.foundation/playbook/engineering/frontend/writing-test/><link rel="shortcut icon" type=image/png href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII="><script defer data-domain=note.d.foundation src=https://plausible.io/js/script.js></script><style>:root{--primary-color:#dadada;--primary-color-light:#2ea370;--main-padding:48px;--column-gap:20px}body{font:16px sans-serif;color:#000;text-rendering:optimizeLegibility;padding:2rem;max-width:100%;margin:0;padding:0;background-color:#fff;line-height:25px;min-height:100vh;display:flex;flex-direction:column;overflow-wrap:break-word;hyphens:auto}h1,h2,h3,h4{color:var(--primary-color)}h1{font-size:45px;display:none}h2{font-size:30px}h3{font-size:22px}h4{font-size:15px}q{font-size:20px;max-width:500px;display:block;margin-left:30px}pre{font-family:monospace;background:#000;color:#dadada;padding:15px;border-radius:2px;overflow-x:scroll;width:100%;box-sizing:border-box}pre>code{display:block;text-indent:0;white-space:inherit;font-weight:400}code{font-family:monospace;font-size:12px;background:#000;color:#dadada;padding:2px 5px;white-space:wrap;border-radius:2px;font-weight:700;display:inline-block;line-height:16px;overflow-x:scroll;margin-bottom:-4px}code comment{color:#777}code.button{background:#fff;color:#000;font-size:smaller;display:inline-block;padding:0 6px;font-weight:700;border-radius:2px;line-height:22px}a[href*="#"]{text-decoration:none}.grid{display:inline-grid;grid-template-areas:"nav content" "nav content";grid-template-rows:1fr 100vh;grid-template-columns:325px 1fr}nav.menu{padding:29px 0 0 45px;max-width:var(--nav-sidebar-width);line-height:22px;margin-top:-2px;white-space:nowrap;border-right:1px solid #363636;grid-area:nav}details{margin-left:-7px;overflow:hidden;font-size:14px;font-weight:500}summary{padding:5px;display:block;padding-left:24px;position:relative;cursor:pointer}summary:before{content:'';border-width:.4rem;border-style:solid;border-color:transparent transparent transparent #fff;position:absolute;top:10px;left:10px;transform:rotate(0);transform-origin:.2rem 50%;transition:.25s transform ease}details[open]>summary:before{transform:rotate(90deg)}details summary::-webkit-details-marker{display:none}details>ul{margin-bottom:0}hr{margin-left:0}nav .site-nav{margin:20px 0;display:block}nav .site-nav section{margin-top:-2px}nav .site-nav section h2{margin:20px 0;font-size:24px;text-transform:lowercase}nav.menu ul{padding:0 10px 10px 0;margin:0;list-style-type:none;line-height:22px}main{grid-area:content;padding:var(--main-padding);max-width:100%;box-sizing:border-box}main>ul{line-height:25px;margin:0}main>ul>li>a{text-decoration:underline}.dual-list>ul{columns:2}.single-list>ul{columns:2}.profile img{width:100px;height:100px;object-fit:cover;aspect-ratio:1/1}.profile object{width:100px;height:100px;object-fit:cover;aspect-ratio:1/1}table,th,td{border:1px solid;border-collapse:collapse;border-spacing:0}tr{max-height:100px;max-width:100px}td{padding:0 20px;max-width:300px;max-height:100px;overflow:hidden;text-overflow:ellipsis}td:has(img){padding:0;line-height:0}#TableOfContents>ul>li>a{text-decoration:underline}#TableOfContents>ul{display:grid;column-gap:var(--column-gap);box-sizing:border-box;grid-template-columns:repeat(auto-fill,minmax(var(--nav-sidebar-width),calc(50% - var(--column-gap))));line-height:20px}#TableOfContents li{white-space:nowrap;list-style-type:decimal-leading-zero;list-style-position:inside;overflow:hidden;text-overflow:ellipsis}.notice{padding:20px;border:2px solid #000}main>blockquote{padding:20px;border:2px solid #000}main>*{max-width:600px;margin-bottom:30px}header{padding:var(--main-padding);border-bottom:1px solid #363636}header h1{display:inline}footer{margin-top:auto;padding:var(--main-padding);clear:both}nav .site-nav ul li{list-style-type:none;display:flex;font-variant-numeric:tabular-nums;font-size:14px;padding-left:20px}li:has(input[type=checkbox]){display:block;list-style-type:none}ul:has(li input[type=checkbox]){padding:0}ul li a{overflow:hidden;text-overflow:ellipsis;width:calc(var(--nav-sidebar-width) + var(--nav-sidebar-offset));background-color:#fff}ul li a:hover{white-space:nowrap;width:100%;z-index:10}ul li p{margin-block-end:0;margin-block-start:0}time{padding-right:1rem}blockquote{margin:1em 0;padding:0 2em;border-left:3px solid #eee}img{max-width:100%}a,a:visited{color:#000}@media(prefers-color-scheme:dark){a,a:visited{color:#dadada}body{background:#1e1e1e;color:#dadada}body a{color:#dadada}pre{background:#fff;color:#1e1e1e}code{background:#fff;color:#1e1e1e}body select{color:#000;background-color:#fff}.project{border-left:2px solid #fff}.notice{border-color:#fff}.mono{filter:invert(1)}.progress>div{background-color:#fff}.progress>div>span{color:#000}main>blockquote{border-color:#fff}ul li a{background-color:inherit}section>ul li a{background-color:inherit}}@media(prefers-color-scheme:light){h1,h2,h3,h4{color:var(--primary-color-light)}}@media only screen and (max-width:1100px){:root{--nav-sidebar-width:140px;--nav-sidebar-offset:0px}nav{width:100%}nav .site-nav section{margin:0 10px 10px 0}nav.menu{max-width:100%;box-sizing:border-box;display:inline-block}nav .site-nav{display:grid;column-gap:var(--column-gap);grid-template-columns:repeat(auto-fill,minmax(var(--nav-sidebar-width),1fr))}main{display:inline-block;width:unset}main>*{max-width:100%}ul li a{width:var(--nav-sidebar-width)}}</style><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"playbook","name":"","headline":"","alternativeHeadline":"","description":"Writing test Testing your application is a vital part of serious development. For the front-end, you don\u0026rsquo;t need 100% code coverage, about 70% is probably good enough. Following are some principles:\nWrite tests. Not too many. Mostly integration. Tests should make you more productive not slow you down. Maintaining tests can slow you down. You get dimishing returns on adding more tests after a certain point. Your tests should always resemble the way your software is used.","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/note.d.foundation\/playbook\/engineering\/frontend\/writing-test\/"},"author":{"@type":"Person","name":"Han Ngo"},"creator":{"@type":"Person","name":"Han Ngo"},"accountablePerson":{"@type":"Person","name":"Han Ngo"},"copyrightHolder":"Dwarves Foundation","copyrightYear":"0001","date":"0001-01-01T00:00:00.00Z","dateCreated":"0001-01-01T00:00:00.00Z","datePublished":"0001-01-01T00:00:00.00Z","dateModified":"0001-01-01T00:00:00.00Z","publisher":{"@type":"Organization","name":"Dwarves Foundation","url":"https://note.d.foundation/","logo":{"@type":"ImageObject","url":"https:\/\/note.d.foundation\/","width":"32","height":"32"}},"image":"https://note.d.foundation/","url":"https:\/\/note.d.foundation\/playbook\/engineering\/frontend\/writing-test\/","wordCount":"1544","genre":[],"keywords":[]}</script><style>body{visibility:hidden;opacity:0}</style><noscript><style>body{visibility:visible;opacity:1}</style></noscript><script type=text/javascript>window.addEventListener("DOMContentLoaded",function(){document.body.style.visibility="visible",document.body.style.opacity=1})</script></head><body class=playbook><div class=grid><nav class=menu><h3>Dwarves Notes</h3><section class=site-nav><details><summary>home</summary><ul><li><a href=/guild/>Dwarves Guild</a></li><li><a href=/site-index/>Index</a></li></ul></details><details><summary>earn</summary><ul><li><a href=/earn/trend-command/>?trend command</a></li><li><a href=/earn/fleeting-notes/>A discord cmd to receive a link, and create a brainery fleeting note</a></li><li><a href=/earn/summary-article/>A discord cmd to summary article, using ChatGPT</a></li><li><a href=/earn/dwarvesf-map/>A webpage showing where the Dwarves from</a></li><li><a href=/earn/discord-publish-braniery/>Add new discord command to publish new brainery post</a></li><li><a href=/earn/brainery-metrics-report/>Brainery metrics report</a></li><li><a href=/earn/centralize-dwarves-calendar/>Centralize Dwarves Calendar</a></li><li><a href=/earn/chatbot-adversarial-prompt/>Chatbot: Adversarial prompts - politics, weapons, etc</a></li><li><a href=/earn/chatbot-llm-accuracy/>Chatbot: LLM accuracy with RLHF</a></li><li><a href=/earn/chatbot-memory/>Chatbot: memory (few shot)</a></li><li><a href=/earn/chatbot-prompt-size/>Chatbot: prompt size, context (zero shot)</a></li><li><a href=/earn/company-signature/>Company Signature</a></li><li><a href=/earn/company-social-graph/>Company Social Graph</a></li><li><a href=/earn/consulting-map/>Consulting record webpage</a></li><li><a href=/earn/layer-2-zk-rollup/>Design system for layer 2 using ZK rollup</a></li><li><a href=/earn/economic-calendar/>Economic calendar</a></li><li><a href=/earn/engagament-log/>Engagement Log</a></li><li><a href=/earn/feature-toggle/>Feature toggle</a></li><li><a href=/earn/financial-literacy-outline/>Financial Literacy outline: Phổ cập Kiến thức Tài chính</a></li><li><a href=/earn/fortress-shanky-data/>Fortress: API to show shanky data</a></li><li><a href=/earn/fortress-mma-score/>Fortress: MMA data</a></li><li><a href=/earn/hunger-game/>Hunger Game - Submit 2022</a></li><li><a href=/earn/integrate-rss-feed/>Integrate RSS feeds to chapter discord channels</a></li><li><a href=/earn/integrate-ts-reset/>Integrate ts-reset to nextjs boilerplate</a></li><li><a href=/earn/locale-web-mobile/>Locale on Web, Mobile</a></li><li><a href=/earn/monorepo-deployment-flow/>Monorepo deployment flow with Vercel</a></li><li><a href=/earn/enigma-checksum/>Open source Enigma checksum</a></li><li><a href=/earn/optimize-query-database/>Optimize Query Database 500M records, filter multiple tables</a></li><li><a href=/earn/project-changelog-tool/>Project Weekly Changelog Tooling</a></li><li><a href=/earn/react-server-component/>React Server Componen</a></li><li><a href=/earn/discord-role/>Rework Discord Role</a></li><li><a href=/earn/dwarves-email-domain/>Rework Dwarves Email Domain</a></li><li><a href=/earn/tech-radar-report/>Tech radar status report</a></li><li><a href=/earn/treasure-hunt/>Treasure Hunt - Submit 2022</a></li><li><a href=/earn/upgraed-nextjs-boilerplate/>Upgrade nextjs-boilerplate to Nextjs 13</a></li><li><a href=/earn/zod-nextjs-boilerplate/>Use Zod to validate schema in nextjs-boilerplate</a></li><li><a href=/earn/type-safe-framework/>wagmi website, fork xkcd, with crm for img uploading</a></li></ul></details><details><summary>hiring</summary><ul><li><a href=/hiring/additional-info/benefits-and-perks/>benefits-and-perks</a></li><li><a href=/hiring/additional-info/how-we-hire/>how-we-hire</a></li><li><a href=/hiring/additional-info/how-we-work/>how-we-work</a></li><li><a href=/hiring/additional-info/making-a-career/>making-a-career</a></li><li><a href=/hiring/additional-info/what-we-stand-for/>what-we-stand-for</a></li><li><a href=/hiring/additional-info/what-we-value/>what-we-value</a></li><li><a href=/hiring/additional-info/where-we-work/>where-we-work</a></li></ul></details><details><summary>memo</summary><ul></ul></details></section></nav><main><h1 id=writing-test><a href=#writing-test>Writing test <a href=#writing-test></a></a></h1><p>Testing your application is a vital part of serious development. For the front-end, you don&rsquo;t need 100% code coverage, about 70% is probably good enough. Following are some principles:</p><ul><li><em>Write tests. Not too many. Mostly integration</em>.</li><li>Tests should make you more productive not slow you down. Maintaining tests can slow you down. You get dimishing returns on adding more tests after a certain point.</li><li>Your tests should always resemble the way your software is used.</li><li>Make sure that you&rsquo;re not testing implementation details - things which users do not use, see, or even know about.</li><li>If your tests don&rsquo;t make you confident that you didn&rsquo;t break anything, then they didn&rsquo;t do their (one and only) job.</li><li>You&rsquo;ll know you implemented correct tests when you rarely have to change tests when you refactor code given the same user behavior.</li><li>Use <a href=https://jestjs.io/>Jest</a>, <a href=https://testing-library.com/docs/react-testing-library/intro/>React testing library</a>, <a href=https://www.cypress.io/>Cypress</a>, and <a href=https://github.com/mswjs/msw>Mock service worker</a>.</li></ul><h2 id=unit-testing><a href=#unit-testing>Unit testing <a href=#unit-testing></a></a></h2><p>Unit testing is the practice of testing the smallest possible units of our code, functions. We run our tests and automatically verify that our functions do the thing we expect them to do. We assert that, given a set of inputs, our functions return the proper values and handle problems.</p><p>We use the Jest test framework to run tests and make assertions. This library makes writing tests as easy as speaking - you describe a unit of your code and expect it to do the correct thing.</p><p>For the sake of this guide, lets pretend we&rsquo;re testing this function. It&rsquo;s situated in the <code>number.ts</code> file:</p><pre><code class=language-js>export function add(x: number, y: number) {
  return x + y;
}
</code></pre><p>First create a folder call <code>tests</code> then add a second <code>add.test.ts</code> file with our unit test inside.</p><pre><code class=language-js>import { add } from '../number.ts';

describe('add()', () =&gt; {
  it('adds two numbers', () =&gt; {
    expect(add(2, 3)).toEqual(5);
  });

  it(&quot;doesn't add the third number&quot;, () =&gt; {
    expect(add(2, 3, 5)).toEqual(add(2, 3));
  });
});
</code></pre><p>Should our function work, Jest will show this output when running the tests:</p><pre><code class=language-bash>add()
  ✓ adds two numbers
  ✓ doesn't add the third number
</code></pre><p>Oh no, now our function doesn&rsquo;t add the numbers anymore, it multiplies them! Imagine the consequences to our code that uses the function!</p><p>Thankfully, we have unit tests in place. Because we run the unit tests before we deploy our application, we see this output:</p><pre><code>● add() › adds two numbers

  expect(received).toEqual(expected)

  Expected value to equal:
    5
  Received:
    6

add()
  ✕ adds two numbers
  ✓ doesn't add the third number
</code></pre><h2 id=component-testing><a href=#component-testing>Component testing <a href=#component-testing></a></a></h2><p>Unit testing your utils and hooks is nice, but you can do even more to make sure nothing breaks your application. Since React is the view layer of your app, let&rsquo;s see how to test Components too!</p><h3 id=shallow-rendering><a href=#shallow-rendering>Shallow rendering <a href=#shallow-rendering></a></a></h3><p>React provides us with a nice add-on called the Shallow Renderer. This renderer will render a React component <strong>one level deep</strong>. Lets take a look at what that means with a simple <code>&lt;Button></code> component.</p><p>This component renders a <code>&lt;button></code> element containing a checkmark icon and some text:</p><pre><code class=language-javascript>import React from 'react';
import CheckmarkIcon from './CheckmarkIcon';

function Button(props) {
  return (
    &lt;button className=&quot;btn&quot; onClick={props.onClick}&gt;
      &lt;CheckmarkIcon /&gt;
      {React.Children.only(props.children)}
    &lt;/button&gt;
  );
}

export default Button;
</code></pre><p>It might be used in another component like this:</p><pre><code class=language-javascript>import Button from './Button';

function HomePage() {
  return &lt;Button onClick={this.doSomething}&gt;Click me!&lt;/Button&gt;;
}
</code></pre><p>When rendered normally with the standard <code>ReactDOM.render</code> function, this will be the HTML output (<em>Comments added in parallel to compare structures in HTML from JSX source</em>):</p><pre><code class=language-html>&lt;button&gt;
  &lt;!-- &lt;Button&gt;             --&gt;
  &lt;i class=&quot;fa fa-checkmark&quot;&gt;&lt;/i&gt;
  &lt;!--   &lt;CheckmarkIcon /&gt;  --&gt;
  Click Me!
  &lt;!--   { props.children } --&gt;
&lt;/button&gt;
&lt;!-- &lt;/Button&gt;            --&gt;
</code></pre><p>Conversely, when rendered with the shallow renderer, we&rsquo;ll get a String containing this &ldquo;HTML&rdquo;:</p><pre><code class=language-html>&lt;button&gt;
  &lt;!-- &lt;Button&gt;             --&gt;
  &lt;CheckmarkIcon /&gt;
  &lt;!--   NOT RENDERED!      --&gt;
  Click Me!
  &lt;!--   { props.children } --&gt;
&lt;/button&gt;
&lt;!-- &lt;/Button&gt;            --&gt;
</code></pre><p>If we test our <code>Button</code> with the normal renderer and there&rsquo;s a problem with the <code>CheckmarkIcon</code> then the test for the <code>Button</code> will fail as well. This makes it harder to find the culprit. Using the <em>shallow</em> renderer, we isolate the problem&rsquo;s cause since we don&rsquo;t render any other components other than the one we&rsquo;re testing!</p><p>The problem with the shallow renderer is that all assertions have to be done manually, and you cannot do anything that needs the DOM.</p><h3 id=react-testing-library><a href=#react-testing-library>react-testing-library <a href=#react-testing-library></a></a></h3><p>In order to write more maintainable tests which also resemble more closely the way our component is used in real life, we have included <a href=https://github.com/testing-library/react-testing-library>react-testing-library</a>. This library renders our component within an actual DOM and provides utilities for querying it.</p><p>Let&rsquo;s give it a go with our <code>&lt;Button /></code> component, shall we? First, let&rsquo;s check that it renders our component with its children, if any, and second that it handles clicks.</p><p>This is our test setup:</p><pre><code class=language-javascript>import React from 'react';
import { render, fireEvent } from 'react-testing-library';
import Button from '../Button';

describe('&lt;Button /&gt;', () =&gt; {
  it('renders and matches the snapshot', () =&gt; {});

  it('handles clicks', () =&gt; {});
});
</code></pre><h4 id=snapshot-testing><a href=#snapshot-testing>Snapshot testing <a href=#snapshot-testing></a></a></h4><p>Let&rsquo;s start by ensuring that it renders our component and no changes happened to it since the last time it was successfully tested.</p><p>We will do so by rendering the component and creating a <em><a href=https://jestjs.io/docs/en/snapshot-testing>snapshot</a></em> which can be compared with a previously committed snapshot. If no snapshot exists, a new one is created.</p><p>For this, we first call <code>render</code>. This will render our <code>&lt;Button /></code> component into a <em>container</em>, by default a <code>&lt;div></code>, which is appended to <code>document.body</code>. We then create a snapshot and <code>expect</code> that this snapshot is the same as the existing snapshot, taken in a previous run of this test and committed to the repository.</p><pre><code class=language-javascript>it('renders and matches the snapshot', () =&gt; {
  const text = 'Click me!';
  const { container } = render(&lt;Button&gt;{text}&lt;/Button&gt;);

  expect(container.firstChild).toMatchSnapshot();
});
</code></pre><p><code>render</code> returns an object that has a property <code>container</code> and yes, this is the container our <code>&lt;Button /></code> component has been rendered in.</p><p>As this is rendered within a <em>normal</em> DOM we can query our component with <code>container.firstChild</code>. This will be our subject for a snapshot. Snapshots are placed in the <code>__snapshots__</code> folder within our <code>tests</code> folder. Make sure you commit these snapshots to your repository.</p><p>So, now if anyone makes any change to our <code>&lt;Button /></code> component the test will fail and we get notified of what changed.</p><p><strong>Further reading:</strong></p><ul><li><a href=https://jestjs.io/blog/2016/07/27/jest-14.html#why-snapshot-testing>Why snapshot testing?</a></li></ul><h4 id=behavior-testing><a href=#behavior-testing>Behavior testing <a href=#behavior-testing></a></a></h4><p>Onwards to our last and most advanced test: checking that our <code>&lt;Button /></code> handles clicks correctly.</p><p>We&rsquo;ll use a <a href=https://jestjs.io/docs/en/mock-functions>mock function</a> for this. A mock function is a function that keeps track of <em>if</em>, <em>how often</em>, and <em>with what arguments</em> it has been called. We pass this function as the <code>onClick</code> handler to our component, simulate a click and, lastly, check that our mock function was called:</p><pre><code class=language-javascript>it('handles clicks', () =&gt; {
  const onClickMock = jest.fn();
  const text = 'Click me!';
  const { getByText } = render(&lt;Button onClick={onClickMock}&gt;{text}&lt;/Button&gt;);

  fireEvent.click(getByText(text));
  expect(onClickSpy).toHaveBeenCalledTimes(1);
});
</code></pre><p>Our finished test file looks like this:</p><pre><code class=language-javascript>import React from 'react';
import { render, fireEvent } from 'react-testing-library';
import Button from '../Button';

describe('&lt;Button /&gt;', () =&gt; {
  it('renders and matches the snapshot', () =&gt; {
    const text = 'Click me!';
    const { container } = render(&lt;Button&gt;{text}&lt;/Button&gt;);

    expect(container.firstChild).toMatchSnapshot();
  });

  it('handles clicks', () =&gt; {
    const onClickMock = jest.fn();
    const text = 'Click me!';
    const { getByText } = render(&lt;Button onClick={onClickMock}&gt;{text}&lt;/Button&gt;);

    fireEvent.click(getByText(text));
    expect(onClickSpy).toHaveBeenCalledTimes(1);
  });
});
</code></pre><h2 id=integration-testing><a href=#integration-testing>Integration testing <a href=#integration-testing></a></a></h2><p>The unit and component testing might ensure the single responisibilty of a function or a UI component but we cannot guarantee they work as expected when being integrated as a whole. That&rsquo;s why integration testing comes in to confirm that an aggregate of a system works together correctly or otherwise exposes errorous behavior between two or more units of code.</p><p>You can choose to write integration tests by using <a href=https://testing-library.com/docs/react-testing-library/intro/>React testing library</a> or <a href=https://www.cypress.io/>Cypress</a>. The test should aim to resemble user&rsquo;s persepective, how users access information on the app and interact with available controls in a stimulate browser. Below is an example of testing the sign-up flow with Cypress:</p><pre><code class=language-js>describe('User Sign-up and Login', () =&gt; {
  it('should redirect unauthenticated user to login page', () =&gt; {
    cy.visit('/');
    cy.location('pathname').should('equal', '/login');
  });

  it('should redirect unauthenticated user to login page', function () {
    cy.visit('/forms');
    cy.location('pathname').should('equal', '/login');
  });

  it('should allow a visitor to sign-up, login, and logout', function () {
    const userInfo = {
      email: 'test@d.foundation',
      password: 'test',
    };

    cy.visit('/');
    cy.get('[name=&quot;email&quot;]').type(userInfo.email);
    cy.get('[name=&quot;password&quot;]').type(userInfo.password).type('{enter}');
    cy.location('pathname').should('equal', '/');
    cy.get('[data-testid=&quot;profile-button&quot;]').click();
    cy.get('[data-testid=&quot;logout-button&quot;]').click();
    cy.location('pathname').should('equal', '/login');
  });
});
</code></pre><p>If the test requires API calls, make sure they are mocked up to work <strong>without the need of a real server</strong>.</p><p>Here&rsquo;s an example of an integration test that uses <a href=https://testing-library.com/docs/react-testing-library/intro/>React Testing Library</a> and <a href=https://github.com/mswjs/msw>Mock Service Worker</a>:</p><pre><code class=language-js>import { setupWorker, rest } from 'msw';

const worker = setupWorker(
  rest.post('/login', (req, res, ctx) =&gt; {
    return res(
      ctx.delay(1500),
      ctx.status(202, 'Mocked status'),
      ctx.json({
        message: 'Mocked response JSON body',
      }),
    );
  }),
);

worker.start();
</code></pre><p>And here&rsquo;s how to use Cypress and intercept the network request for an integration test:</p><pre><code class=language-js>// requests to '/login' will be fulfilled
// with a body of &quot;success&quot;
cy.intercept('/login', 'Mocked response JSON body');
</code></pre><p>Note: sometimes, it&rsquo;s required to have e2e tests by making requests against a real backend server. In that case, we need to ensure network latency and availability of the server are not the factor causing the test to fail.</p><h2 id=read-on><a href=#read-on>Read on: <a href=#read-on></a></a></h2><ul><li><a href=/playbook/engineering/frontend/tech-ecosystem/>Tech ecosystem</a></li><li><a href=/playbook/engineering/frontend/code-style/>Code style</a></li><li><a href=/playbook/engineering/frontend/ui-checklist/>UI checklist</a></li><li><a href=/playbook/engineering/frontend/logging-monitoring/>Logging and monitoring</a></li></ul></main></div></body></html>