<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content><meta name=description property="og:description" content><meta name=keywords content><meta property="og:type" content="website"><meta property="og:url" content="https://note.d.foundation/playbook/engineering/frontend/tech-ecosystem/"><meta property="og:image" content="https://note.d.foundation/img/LOGO.png"><link rel=icon type=image/x-icon href=https://note.d.foundation/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://note.d.foundation/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://note.d.foundation/favicon-32x32.png><link rel=apple-touch-icon href=https://note.d.foundation/apple-touch-icon.png><title>| Dwarves Foundation</title><meta name=description content><link rel=canonical href=https://note.d.foundation/playbook/engineering/frontend/tech-ecosystem/><link rel="shortcut icon" type=image/png href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII="><script defer data-domain=note.d.foundation src=https://plausible.io/js/script.js></script><style>:root{--primary-color:#e13F5e;--primary-font-color:#ddd;--primary-font-color-light:#333;--main-padding:48px;--column-gap:20px}body{font-family:ibm plex sans,sans-serif;font-size:16px;color:#000;text-rendering:optimizeLegibility;padding:2rem;max-width:100%;margin:0;padding:0;background-color:#fff;line-height:1.5;min-height:100vh;display:flex;flex-direction:column;overflow-wrap:break-word;hyphens:auto}h1,h2,h3,h4{color:var(--primary-font-color)}h1{font-size:45px}h2{font-size:30px}h3{font-size:22px}h4{font-size:15px}q{font-size:20px;max-width:500px;display:block;margin-left:30px}pre{font-family:monospace;background:#000;color:#dadada;padding:15px;border-radius:2px;overflow-x:scroll;width:100%;box-sizing:border-box}pre>code{display:block;text-indent:0;white-space:inherit;font-weight:400}code{font-family:monospace;font-size:12px;background:#000;color:#dadada;padding:2px 5px;white-space:wrap;border-radius:2px;font-weight:700;display:inline-block;line-height:16px;overflow-x:scroll;margin-bottom:-4px}code comment{color:#777}code.button{background:#fff;color:#000;font-size:smaller;display:inline-block;padding:0 6px;font-weight:700;border-radius:2px;line-height:22px}a[href*="#"]{text-decoration:none}.note-title{display:inline-grid;width:100%;max-width:600px;grid-template-areas:"pagetitle pagetitle" "date tags" "authors authors"}.note-title .pagetitle{grid-area:pagetitle;color:#000!important}.note-title .date{grid-area:date;color:#636466}.note-title .tags{grid-area:tags;justify-self:right}.note-title .authors{grid-area:authors}.grid{display:inline-grid;grid-template-areas:"title title title" "subtitle subtitle subtitle" "tabmenu tabmenu tabmenu" "nav content pagenav" "nav content pagenav";grid-template-rows:100px 75px 60px 1fr 1fr;grid-template-columns:minmax(0,350px)2fr 1fr;padding-bottom:45px}.grid>*{padding:0 0 0 45px}.grid .title{grid-area:title;color:var(--primary-color)}.grid .subtitle{grid-area:subtitle;font-size:18px;padding-top:16px}.active{color:var(--primary-color);padding-bottom:17px;border-bottom:2px solid var(--primary-color)}nav.tab-menu{grid-area:tabmenu;border-bottom:1px solid #e7e7e7}nav.tab-menu ul{list-style-type:none;padding:0}nav.tab-menu ul li{font-size:16px;font-weight:500;display:inline-block;margin-right:45px}nav.tab-menu ul li a{text-decoration:none;color:inherit}nav.menu{padding:29px 0 0 45px;line-height:22px;margin-top:-2px;white-space:nowrap;grid-area:nav}details{margin-left:-7px;overflow:hidden;font-size:14px;font-weight:500}.section-home{font-size:14px;font-weight:500;line-height:4}summary{padding:5px;display:block;padding-left:24px;position:relative;cursor:pointer}summary:before{content:'';border-width:.4rem;border-style:solid;border-color:transparent transparent transparent #000;position:absolute;top:10px;left:10px;transform:rotate(0);transform-origin:.2rem 50%;transition:.25s transform ease}details[open]>summary:before{transform:rotate(90deg)}details summary::-webkit-details-marker{display:none}details>ul{margin-bottom:0}hr{margin-left:0;max-width:600px}nav .site-nav{display:block}nav .site-nav section{margin-top:-2px}nav .site-nav section h2{margin:20px 0;font-size:24px;text-transform:lowercase}nav.menu ul{padding:0 10px 10px 0;margin:0;list-style-type:none;line-height:22px}main{grid-area:content;padding:var(--main-padding);max-width:100%;box-sizing:border-box}main>ul{line-height:25px;margin:0}main>ul>li>a{text-decoration:underline}.dual-list>ul{columns:2}.single-list>ul{columns:2}.profile img{width:100px;height:100px;object-fit:cover;aspect-ratio:1/1}.profile object{width:100px;height:100px;object-fit:cover;aspect-ratio:1/1}table,th,td{border:1px solid;border-collapse:collapse;border-spacing:0}tr{max-height:100px;max-width:100px}td{padding:0 20px;max-width:300px;max-height:100px;overflow:hidden;text-overflow:ellipsis}td:has(img){padding:0;line-height:0}#TableOfContents>ul>li>a{text-decoration:underline}#TableOfContents>ul{display:grid;column-gap:var(--column-gap);box-sizing:border-box;grid-template-columns:repeat(auto-fill,minmax(var(--nav-sidebar-width),calc(50% - var(--column-gap))));line-height:20px}#TableOfContents li{white-space:nowrap;list-style-type:decimal-leading-zero;list-style-position:inside;overflow:hidden;text-overflow:ellipsis}.notice{padding:20px;border:2px solid #000}main>blockquote{padding:20px;border:2px solid #000}main>*{max-width:600px;margin-bottom:30px}header{padding:var(--main-padding);border-bottom:1px solid #363636}header h1{display:inline}footer{margin-top:auto;padding:var(--main-padding);clear:both}nav .site-nav ul li{list-style-type:none;display:flex;font-variant-numeric:tabular-nums;font-size:14px;padding-left:20px}li:has(input[type=checkbox]){display:block;list-style-type:none}ul:has(li input[type=checkbox]){padding:0}ul li a{overflow:hidden;text-overflow:ellipsis;width:calc(var(--nav-sidebar-width) + var(--nav-sidebar-offset));background-color:#fff}ul li a:hover{white-space:nowrap;width:100%;z-index:10}ul li p{margin-block-end:0;margin-block-start:0}time{padding-right:1rem}blockquote{margin:1em 0;padding:0 2em;border-left:3px solid #eee}img{max-width:100%}a,a:visited{color:#000}@media(prefers-color-scheme:dark){summary:before{border-color:transparent transparent transparent #fff}a,a:visited{color:#dadada}body{background:#1e1e1e;color:#dadada}body a{color:#dadada}pre{background:#fff;color:#1e1e1e}code{background:#fff;color:#1e1e1e}body select{color:#000;background-color:#fff}.project{border-left:2px solid #fff}.notice{border-color:#fff}.mono{filter:invert(1)}.progress>div{background-color:#fff}.progress>div>span{color:#000}main>blockquote{border-color:#fff}ul li a{background-color:inherit}section>ul li a{background-color:inherit}}@media(prefers-color-scheme:light){h1,h2,h3,h4{color:var(--primary-font-color-light)}}@media only screen and (max-width:1100px){:root{--nav-sidebar-width:140px;--nav-sidebar-offset:0px}nav{width:100%}nav .site-nav section{margin:0 10px 10px 0}nav.menu{max-width:100%;box-sizing:border-box;display:inline-block}nav .site-nav{display:grid;column-gap:var(--column-gap);grid-template-columns:repeat(auto-fill,minmax(var(--nav-sidebar-width),1fr))}main{display:inline-block;width:unset}main>*{max-width:100%}ul li a{width:var(--nav-sidebar-width)}}</style><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"playbook","name":"","headline":"","alternativeHeadline":"","description":"Tech ecosystem This document is intended to give you a taste of how we build frontend applications at Dwarves, and more importantly, why we choose the technology. It still assumes basic knowledge of React and Next.js. If you\u0026rsquo;re completely new to React, please refer to https:\/\/github.com\/petehunt\/react-howto instead!\nTech stack Core React Next.js SWR React Hook Form Dwarves React Toolkit UI \u0026amp; styling TailwindCSS Headless UI Static type checking \u0026amp; linting TypeScript ESLint Prettier Testing Jest react-testing-library Cypress Core Building Blocks React When we choose a technology, the first question always is \u0026ldquo;did that technology achieve a certain level of stability and maturity?","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/note.d.foundation\/playbook\/engineering\/frontend\/tech-ecosystem\/"},"author":{"@type":"Person","name":"Han Ngo"},"creator":{"@type":"Person","name":"Han Ngo"},"accountablePerson":{"@type":"Person","name":"Han Ngo"},"copyrightHolder":"Dwarves Foundation","copyrightYear":"0001","date":"0001-01-01T00:00:00.00Z","dateCreated":"0001-01-01T00:00:00.00Z","datePublished":"0001-01-01T00:00:00.00Z","dateModified":"0001-01-01T00:00:00.00Z","publisher":{"@type":"Organization","name":"Dwarves Foundation","url":"https://note.d.foundation/","logo":{"@type":"ImageObject","url":"https:\/\/note.d.foundation\/","width":"32","height":"32"}},"image":"https://note.d.foundation/","url":"https:\/\/note.d.foundation\/playbook\/engineering\/frontend\/tech-ecosystem\/","wordCount":"795","genre":[],"keywords":[]}</script><style>body{visibility:hidden;opacity:0}</style><noscript><style>body{visibility:visible;opacity:1}</style></noscript><script type=text/javascript>window.addEventListener("DOMContentLoaded",function(){document.body.style.visibility="visible",document.body.style.opacity=1})</script></head><body class=playbook><div class=grid><h1 class=title><a style=color:inherit;text-decoration:none href=/site-index>Dwarves Notes</a></h1><div class=subtitle>A collection of notes for everything we do and operate at Dwarves.</div><nav class=tab-menu><ul><li><a href=/>Home</a></li><li><a href=/guild>Guild</a></li><li><a href=/memo>Memo</a></li><li><a href=https://brain.d.foundation/>Brainery</a></li><li><a href=/newsletter>Newsletter</a></li><li><a href=/site-index>Index</a></li></ul></details></nav><nav class=menu><section class=site-nav></section></nav><main><div class=note-title><h1 class=pagetitle></h1><div class=date>Jan 1, 0001</div><div class=tags>Tags:</div></div><hr><h1 id=tech-ecosystem><a href=#tech-ecosystem>Tech ecosystem <a href=#tech-ecosystem></a></a></h1><p>This document is intended to give you a taste of how we build frontend applications at Dwarves, and more importantly, why we choose the technology. It still assumes basic knowledge of React and <a href=https://nextjs.org/docs/getting-started>Next.js</a>. <strong>If you&rsquo;re completely new to React, please refer to <a href=https://github.com/petehunt/react-howto>https://github.com/petehunt/react-howto</a> instead!</strong></p><h2 id=tech-stack><a href=#tech-stack>Tech stack <a href=#tech-stack></a></a></h2><h3 id=core><a href=#core>Core <a href=#core></a></a></h3><ul><li><input checked disabled type=checkbox> <a href=https://reactjs.org/>React</a></li><li><input checked disabled type=checkbox> <a href=https://nextjs.org/>Next.js</a></li><li><input checked disabled type=checkbox> <a href=https://swr.vercel.app/>SWR</a></li><li><input checked disabled type=checkbox> <a href=https://github.com/react-hook-form/react-hook-form>React Hook Form</a></li><li><input checked disabled type=checkbox> <a href=https://github.com/dwarvesf/react-toolkit>Dwarves React Toolkit</a></li></ul><h3 id=ui--styling><a href=#ui--styling>UI & styling <a href=#ui--styling></a></a></h3><ul><li><input checked disabled type=checkbox> <a href=https://github.com/tailwindcss/tailwindcss>TailwindCSS</a></li><li><input checked disabled type=checkbox> <a href=https://github.com/tailwindlabs/headlessui>Headless UI</a></li></ul><h3 id=static-type-checking--linting><a href=#static-type-checking--linting>Static type checking & linting <a href=#static-type-checking--linting></a></a></h3><ul><li><input checked disabled type=checkbox> <a href=https://www.typescriptlang.org>TypeScript</a></li><li><input checked disabled type=checkbox> <a href=http://eslint.org/>ESLint</a></li><li><input checked disabled type=checkbox> <a href=https://prettier.io/>Prettier</a></li></ul><h3 id=testing><a href=#testing>Testing <a href=#testing></a></a></h3><ul><li><input checked disabled type=checkbox> <a href=http://facebook.github.io/jest/>Jest</a></li><li><input checked disabled type=checkbox> <a href=https://github.com/kentcdodds/react-testing-library>react-testing-library</a></li><li><input checked disabled type=checkbox> <a href=https://github.com/cypress-io/cypress>Cypress</a></li></ul><h2 id=core-building-blocks><a href=#core-building-blocks>Core Building Blocks <a href=#core-building-blocks></a></a></h2><h3 id=react><a href=#react>React <a href=#react></a></a></h3><p>When we choose a technology, the first question always is &ldquo;<strong>did that technology achieve a certain level of stability and maturity?</strong>&rdquo;. Quick wins are great, but products, teams, and infrastructure evolving into new things can only be created with years of effort. React has been proven to be the answer when the question comes to selecting our frontend backbone. Not many frameworks evolving over a decade can still maintain the right balance of stability, performance, and usability like React.</p><h3 id=nextjs><a href=#nextjs>Next.js <a href=#nextjs></a></a></h3><p>Production grade React applications that scale, we list <a href=https://nextjs.org/>Next.js</a> to be the first candidate when we decide to setup a React app. The opinionated framework gives you the best developer experience with all the features you need for production: hybrid static & server rendering, TypeScript support, smart bundling, route pre-fetching.</p><h3 id=react-context><a href=#react-context>React Context <a href=#react-context></a></a></h3><p>We don&rsquo;t advocate for any state management library at the moment. One of the reasons libraries like Redux were so successful is because they solved the problem of <a href=https://kentcdodds.com/blog/prop-drilling>prop drilling</a>. However, the born of <a href=https://reactjs.org/docs/context.html>Context API</a> made it easy to pass data through the component tree without having to pass props down manually at every level. More importantly, we think most applications don&rsquo;t need a complicated global state, and Context API is more than enough to solve that uncomplex problem. Our philosophy in React state management is simple: try to keep state as local as possible and use React context when prop drilling becomes a worry.</p><h3 id=typescript><a href=#typescript>TypeScript <a href=#typescript></a></a></h3><p>We are adopting TypeScript to our codebase. Forcing to write strongly-typed syntax while you are familiar with dynamic/multi-paradigm scripting language like JavaScript is sometimes annoying, even for experienced developers. However, the drawback can be outweighed by the following benefits when coming to write a medium to large sized applications:</p><ul><li><input checked disabled type=checkbox> Catching your bugs at compile-time as you type them.</li><li><input checked disabled type=checkbox> Coding confidently with autocompletion, definition jumping and source documentation.</li><li><input checked disabled type=checkbox> Syncing API Interfaces between backend and frontend via Swagger json doc.</li><li><input checked disabled type=checkbox> Relieve the pain of refactoring/renaming.</li></ul><h3 id=swr><a href=#swr>SWR <a href=#swr></a></a></h3><p>We use <a href=https://swr.vercel.app/>SWR</a> as the caching layer for the backend data to ensure the UI will be always fast and reactive. The strategy is to first return the data from cache (stale), then send the fetch request (revalidate), and finally, come with the up-to-date data. The data can be dynamic and self-updated overtime. It features:</p><ul><li><input checked disabled type=checkbox> Transport and protocol agnostic data fetching</li><li><input checked disabled type=checkbox> Fast page navigation</li><li><input checked disabled type=checkbox> Revalidation on focus</li><li><input checked disabled type=checkbox> Interval polling</li><li><input checked disabled type=checkbox> Request deduplication</li><li><input checked disabled type=checkbox> Local mutation</li></ul><h3 id=react-hook-forms><a href=#react-hook-forms>React Hook Forms <a href=#react-hook-forms></a></a></h3><p>If you are going to use a package for your forms, we recommend <a href=https://github.com/react-hook-form/react-hook-form>react-hook-forms</a>. It is a great balance of good performance and good developer experience.</p><h3 id=tailwindcss><a href=#tailwindcss>TailwindCSS <a href=#tailwindcss></a></a></h3><p>We are using <code>tailwind</code> to do styling and it scales pretty well when combining headless components and hooks to build the presentation layer. The choice was made because it helps avoid common CSS frustrations to keep a neat codebase and moving quickly, regardless of experience levels:</p><ul><li><input checked disabled type=checkbox> <strong>Consistency</strong>: utility classes help you work within the constraints of a system instead of littering your stylesheets with arbitrary values.</li><li><input checked disabled type=checkbox> <strong>Naming is hard</strong>: you don&rsquo;t even need to use complicated namespacing techniques like BEM.</li><li><input checked disabled type=checkbox> <strong>Tiny production build</strong>: automatically removes all unused CSS when building for production, which means your final CSS bundle is the smallest it could possibly be.</li><li><input checked disabled type=checkbox> <strong>Mobile-first</strong>: throw a screen size in front of literally any utility class and watch it magically apply at a specific breakpoint.</li><li><input checked disabled type=checkbox> <strong>Customization</strong>: although Tailwind includes an expertly crafted set of defaults out-of-the-box, but literally everything can be customized via JIT or <code>tailwind.config.js</code>.</li></ul><h2 id=architecture><a href=#architecture>Architecture <a href=#architecture></a></a></h2><p>Most of the frontend applications consist of four layers: Service connector, State management, Logic and UI. We opinionate about the technology for each layer with a guarantee of production readiness.</p><div align=center><img src=./img/architecture.png align=center></div><h2 id=linting><a href=#linting>Linting <a href=#linting></a></a></h2><p>Any project should include a complete static code analysis setup. The standard is composed of <a href=http://eslint.org/>ESLint</a> and <a href=https://prettier.io/>Prettier</a>.</p><p>We recommend that you install the relevant IDE extensions for each one of these tools. Once you do, every time you&rsquo;ll press save, all your code will be formatted and reviewed for quality automatically.</p><p>Furthermore, there should be a git hook to automatically analyze and fix linting errors before your code is committed. <a href=https://github.com/okonet/lint-staged>lint-staged</a> and <a href=https://github.com/typicode/husky>husky</a> is often the standard pair to setup the automation.</p><hr><p>For all of those recommendations, we created <a href=https://github.com/dwarvesf/nextjs-boilerplate>nextjs-boilerplate</a> to demontrate how those decisions work together.</p><h2 id=read-on><a href=#read-on>Read on: <a href=#read-on></a></a></h2><ul><li><a href=/playbook/engineering/frontend/code-style/>Code style</a></li><li><a href=/playbook/engineering/frontend/writing-test/>Writting test</a></li><li><a href=/playbook/engineering/frontend/ui-checklist/>UI checklist</a></li><li><a href=/playbook/engineering/frontend/logging-monitoring/>Logging and monitoring</a></li></ul></main></div></body></html>