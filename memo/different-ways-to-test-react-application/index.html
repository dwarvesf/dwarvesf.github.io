<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content><meta name=keywords content><meta name=title content="Different Ways To Test React Application"><meta name=description content><meta property="og:title" content="Different Ways To Test React Application"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://note.d.foundation/memo/different-ways-to-test-react-application/"><meta property="og:image" content="https://note.d.foundation/img/LOGO.png"><meta property="twitter:title" content="Different Ways To Test React Application"><meta property="twitter:description" content><meta property="twitter:type" content="article"><meta property="twitter:url" content="https://note.d.foundation/memo/different-ways-to-test-react-application/"><meta property="twitter:image" content="https://note.d.foundation/img/LOGO.png"><link rel=icon type=image/x-icon href=https://note.d.foundation/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://note.d.foundation/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://note.d.foundation/favicon-32x32.png><link rel=apple-touch-icon href=https://note.d.foundation/apple-touch-icon.png><title>Different Ways To Test React Application</title>
<link rel=canonical href=https://note.d.foundation/memo/different-ways-to-test-react-application/><link rel="shortcut icon" type=image/png href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII="><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism-themes/1.9.0/prism-vs.min.css integrity="sha512-Jn4HzkCnzA7Bc+lbSQHAMeen0EhSTy71o9yJbXZtQx9VvozKVBV/2zfR3VyuDFIxGvHgbOMMNvb80l+jxFBC1Q==" crossorigin=anonymous referrerpolicy=no-referrer media="(prefers-color-scheme: dark)"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism-themes/1.9.0/prism-vsc-dark-plus.min.css integrity="sha512-ML8rkwYTFNcblPFx+VLgFIT2boa6f8DDP6p6go4+FT0/mJ8DCbCgi6S0UdjtzB3hKCr1zhU+YVB0AHhIloZP8Q==" crossorigin=anonymous referrerpolicy=no-referrer media="(prefers-color-scheme: light)"><script defer data-domain=note.d.foundation src=https://plausible.io/js/script.js></script><script defer src=https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js></script><link rel=preconnect href=https://B0BWKXLVM9-dsn.algolia.net crossorigin><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3><script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3></script><style>body{font-family:ibm plex sans,sans-serif;font-size:1rem;color:#000;text-rendering:optimizeLegibility;padding:2rem;max-width:100%;margin:0;padding:0;background-color:var(--primary-background-color-light);line-height:1.5;min-height:100vh;display:flex;flex-direction:column;hyphens:auto}h1,h2,h3,h4{color:var(--primary-font-color);line-height:1.24}h1{font-size:32pt}h2{font-size:24pt}h3{font-size:16pt}h4{font-size:12pt}a[href^="#"]{text-decoration:none}time{padding-right:1rem}blockquote{margin:1em 0;padding:0 2em;border-left:3px solid #eee}img{max-width:100%}video{max-width:100%}a,a:visited{color:#000}q{font-size:20px;max-width:500px;display:block;margin-left:30px}pre{font-family:monospace!important;background:#000!important;color:#dadada;padding:4px!important;margin:0!important;border-radius:2px;overflow-x:auto;width:100%;max-width:100vw!important;box-sizing:border-box;background-clip:padding-box}pre>code{text-indent:0;white-space:inherit;font-weight:400;padding:15px!important;box-sizing:border-box;background-clip:padding-box}code{line-height:1.5!important;font-family:monospace!important;font-size:12px!important;background:#333!important;color:#dadada;padding:2px 5px;white-space:wrap;border-radius:2px;font-weight:700;display:inline-block;margin-bottom:-4px;box-sizing:border-box;background-clip:padding-box}code comment{color:#777}table code{margin:0;background:var(--secondary-background-color-light)!important;color:var(--secondary-font-color-light);border:.5px solid var(--secondary-font-color-light)}span a,span a:visited{color:inherit}[style*="color:yellow"]{color:gold!important}[style*="color:blue"]{color:#6495ed!important}[style*="color:red"]{color:crimson!important}@media(prefers-color-scheme:dark){a,a:visited{color:#dadada}pre{font-family:monospace!important;background:#fff!important;color:var(--primary-background-color)}code{font-family:monospace!important;background:#ddd!important;color:var(--primary-background-color)}table code{background:var(--secondary-background-color)!important;color:var(--secondary-font-color)}}iframe{box-sizing:border-box;max-width:100%}@media(prefers-color-scheme:light){h1,h2,h3,h4{color:var(--primary-font-color-light)}}@media screen and (max-width:1100px){h1{font-size:calc(1.45rem + 2vw)}h2{font-size:calc(1rem + 1.5vw)}h3{font-size:calc(1rem + 1vw)}h4{font-size:calc(1rem + .5vw)}}:root{--primary-color:#e13F5e;--docsearch-primary-color:#e13F5e;--docsearch-primary-color:#e13F5e;--primary-font-color:#ddd;--primary-font-color-light:#333;--secondary-font-color:#e8e8e8;--secondary-font-color-light:#717171;--primary-background-color:#1e1e1e;--primary-background-color-light:#fff;--secondary-background-color:#282828;--secondary-background-color-light:#f6f6f6;--border-color:#3d3d3d;--border-color-light:#e7e7e7;--container-max-width:1240px;--main-padding:36px;--column-gap:24px;--nav-sidebar-width:200px;--nav-sidebar-offset:0px}.grid .title{grid-area:title;margin:32px 0 0!important;color:var(--primary-color)}.grid .subtitle{grid-area:subtitle;font-size:18px;padding-top:16px;padding-bottom:32px}.grid #docsearch{grid-area:docsearch}.grid #docsearch>button{width:90%;height:75%;border-radius:0}.grid #docsearch>button>span{padding-left:12px;font-family:ibm plex sans,sans-serif}.DocSearch-Footer{box-shadow:none}.active{color:var(--primary-color);line-height:1;border-bottom:2px solid var(--primary-color);padding-top:4px!important}nav.tab-menu{grid-area:tabmenu;border-bottom:1px solid var(--border-color-light);padding-bottom:0;overflow:auto}nav.tab-menu ul{list-style-type:none;padding:0;margin-bottom:0;display:inline-grid;grid-auto-flow:column;grid-template-rows:1fr;grid-template-columns:repeat(auto-fit,minmax(min-content,1fr));column-gap:48px}nav.tab-menu ul li{font-size:16px;font-weight:500;display:inline-block;padding:0 0 16px;width:min-content}nav.tab-menu ul li a{text-decoration:none;color:inherit}nav.tab-menu ul li a:hover{background-color:var(--primary-background-color);padding:0}nav.tab-menu ul li:last-of-type{margin-right:30px!important}@media(prefers-color-scheme:dark){nav.tab-menu{border-bottom:1px solid var(--border-color)}}@media only screen and (max-width:1100px){.DocSearch{width:100%!important;height:50px!important;padding:0;margin:0}}nav.menu{padding:calc(var(--main-padding) - 12px)var(--main-padding);line-height:22px;white-space:nowrap;grid-area:nav}details{margin-left:-7px;overflow:hidden;font-size:14px}summary{display:block;padding:5px 5px 12px 20px;position:relative;cursor:pointer;font-size:20px;font-weight:600;text-transform:capitalize;user-select:none}nav section details:not(:last-of-type) ul{margin-bottom:24px}summary:before{content:'\25B8';position:absolute;top:7px;left:0;transform:rotate(0);transform-origin:50% 50%;transition:.25s transform ease;font-size:16px;height:16px;width:16px;font-weight:200;display:flex;justify-content:center;align-items:center}summary:before>*{height:4px;width:4px}details[open]>summary:before{transform:rotate(90deg)}details summary::-webkit-details-marker{display:none}details>ul{margin-bottom:0}hr{margin:20px 0!important;width:100%;max-width:inherit;border-color:var(--secondary-background-color-light)}nav.menu{background-color:var(--secondary-background-color-light)}nav .site-nav{display:inline-block;width:100%}nav .site-nav section{margin-top:-2px}nav .site-nav section h2{margin:20px 0;font-size:24px;text-transform:lowercase}nav.menu ul{display:inline-grid;grid-template-rows:repeat(auto-fill,minmax(0,1fr));grid-template-columns:repeat(auto-fill,minmax(var(--nav-sidebar-width),1fr));padding:0 10px 10px 0;margin:0;list-style-type:none;line-height:22px;box-sizing:border-box}nav .site-nav ul li{list-style-type:none;display:flex;font-variant-numeric:tabular-nums;font-size:14px;padding-left:20px;max-width:fit-content}nav .site-nav ul li a{padding:0 4px}.load-more{font-style:italic;padding-top:8px;color:var(--primary-color)!important;cursor:pointer}@media(prefers-color-scheme:dark){nav.menu{background-color:var(--secondary-background-color)}hr{border-color:var(--secondary-background-color)}}@media only screen and (max-width:1100px){nav.menu{padding:4.5%}nav.menu ul{width:100%;row-gap:4px;column-gap:4px}nav .site-nav section{margin:0 10px 10px 0}nav.menu{max-width:100%;box-sizing:border-box;display:inline-block}}footer{padding:var(--main-padding);clear:both;border-top:1px solid var(--border-color-light)}footer span{color:var(--secondary-font-color-light)}@media(prefers-color-scheme:dark){footer{border-top:1px solid var(--border-color)}footer span{color:var(--secondary-font-color)}}.note-title{display:inline-grid;width:100%;row-gap:12px;margin:0;grid-template-areas:"pagetitle pagetitle" "date tags" "authors tags";grid-template-rows:repeat(auto-fill,minmax(0,1fr));grid-template-columns:repeat(2,1fr)}.note-title .pagetitle{grid-area:pagetitle;margin:0}.note-title .date{grid-area:date;color:#636466}.note-title .tags{display:inline-flex;flex-wrap:wrap;gap:6px;grid-area:tags;justify-self:right;justify-content:right}.note-title .tags .tag{padding:1px 6px;border-radius:4px;background-color:var(--secondary-background-color-light);height:fit-content;text-decoration:none;color:var(--secondary-font-color-light)}.note-title .authors{grid-area:authors}.clear-title{grid-template-areas:"pagetitle pagetitle";gap:0}.clear-title .date{display:none}.clear-title .tags{display:none}.clear-title .authors{display:none}code.button{background:var(--primary-background-color-light);color:#000;font-size:smaller;display:inline-block;padding:0 6px;font-weight:700;border-radius:2px;line-height:22px}.grid{display:inline-grid;grid-template-areas:"title title title title" "subtitle subtitle docsearch docsearch" "tabmenu tabmenu tabmenu tabmenu" "nav content content pagenav" "nav content content pagenav";grid-template-rows:repeat(auto-fill,minmax(0,1fr));grid-template-columns:325px 2fr 2fr 1fr;column-gap:var(--column-gap)}.grid>*{padding-right:calc(var(--main-padding) - 12px);padding-left:calc(var(--main-padding) + 12px)}#docsearch{grid-area:docsearch}main{grid-area:content;display:inline-block;padding:var(--main-padding);width:calc(100vw - 325px - 72px);max-width:var(--container-max-width);box-sizing:border-box;overflow-wrap:break-word;hyphens:none;justify-self:left}main ul{line-height:25px;margin:0;padding:0;padding-inline-start:40px}main ul>li>a{text-decoration:underline}.scrollable{overflow:auto}.dual-list>ul{columns:2}.single-list>ul{columns:2}.profile img{width:100px;height:100px;object-fit:cover;aspect-ratio:1/1}.profile object{width:100px;height:100px;object-fit:cover;aspect-ratio:1/1}table,th,td{border:1px solid;border-collapse:collapse;border-spacing:0;border-color:var(--border-color-light)}thead *{padding:6px 12px;background-color:var(--secondary-background-color-light)}th,td{padding:6px 12px;overflow:hidden;text-overflow:ellipsis;vertical-align:top;text-align:left}td:has(img){padding:12px;line-height:0}table{table-layout:fixed}table:has(th:empty){border:none}table:has(th:empty) th{border:none;padding:0;line-height:0}table:has(th:empty) td{border:none}table:has(img){width:100%;height:100%}table:has(img) td{min-width:200px}table:has(img) img{width:100%!important;height:100%!important;object-fit:cover}#TableOfContents>ul>li>a{text-decoration:underline}#TableOfContents>ul{display:grid;column-gap:var(--column-gap);box-sizing:border-box;grid-template-columns:repeat(auto-fill,minmax(0,calc(50% - var(--column-gap))));line-height:20px}#TableOfContents li{white-space:nowrap;list-style-type:decimal-leading-zero;list-style-position:inside;overflow:hidden;text-overflow:ellipsis}.notice{padding:20px;border:2px solid #000;margin-bottom:16px}main>blockquote{padding:20px;border:2px solid #000}main>*{max-width:inherit}li:has(input[type=checkbox]){display:block;list-style-type:none}ul:has(li input[type=checkbox]){padding:0}ul li a{overflow:hidden;text-overflow:ellipsis;white-space:wrap;text-decoration:none;transition:all .25s ease}ul li a:hover{background-color:var(--primary-color);color:#fff;padding-left:4px;padding-right:4px;border-radius:4px;width:100%;z-index:10}ul li p{margin-block-end:0;margin-block-start:0}@media(prefers-color-scheme:dark){html[data-theme=dark]{--docsearch-searchbox-background:var(--secondary-background-color);--docsearch-modal-background:var(--secondary-background-color);--docsearch-footer-background:var(--secondary-background-color);--docsearch-key-gradient:linear-gradient(-26.5deg, #555, var(--secondary-background-color));--docsearch-muted-color:#777;--docsearch-key-shadow:inset 0 -2px 0 0 var(--secondary-background-color),inset 0 0 1px 1px #555,0 2px 2px 0 rgba(3,4,9,0.3)}body{background:var(--primary-background-color);color:#dadada}body select{color:#000;background-color:#fff}.project{border-left:2px solid #fff}.notice{border-color:#fff}.mono{filter:invert(1)}.progress>div{background-color:#fff}.progress>div>span{color:#000}main>blockquote{border-color:#fff}ul li a{background-color:inherit}section>ul li a{background-color:inherit}.note-title .tags .tag{background-color:var(--secondary-background-color);color:var(--secondary-font-color)}table,th,td{border-color:var(--border-color)}thead *{background-color:var(--secondary-background-color)}}@media only screen and (max-width:1100px){.grid{display:inline-grid;grid-template-areas:"title" "subtitle" "docsearch" "tabmenu" "content" "nav" "pagenav";grid-template-rows:repeat(auto-fill,minmax(0,1fr));grid-template-columns:1fr}.grid>*{padding-right:4.5%;padding-left:4.5%}.note-title{width:100%;grid-template-areas:"pagetitle" "date" "tags" "authors";grid-template-rows:repeat(auto-fill,minmax(0,1fr));grid-template-columns:1fr}.note-title .tags{max-width:max-content;justify-self:left;justify-content:flex-start}main{justify-self:center;width:100%;max-width:700px}}.col-2{display:inline-grid;column-gap:36px;padding-bottom:36px;grid-template-columns:repeat(auto-fit,minmax(20%,1fr))}.col-2>*{overflow-wrap:break-word;overflow:auto}</style><script defer src=/js/process-comments.js></script><script defer src=/js/tab-menu.js></script><script defer src=/js/markdown-entities.js></script><script defer src=/js/algolia.js></script><script defer src=/js/dark-light-check.js></script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"memo","name":"Different Ways To Test React Application","headline":"Different Ways To Test React Application","alternativeHeadline":"","description":"Introduction There are 2 practical types of testing a front end application: test its implementation details (unit test, integration test combine with assert states of the component being tested) or testing its behavior base on perspective (e2e, integration test).\nThe content below assumes you already know about React hook (which is a new feature of React 16.08)\nThis is a repository link: https:\/\/github.com\/phmngocnghia\/TestReactComponent\nThis repository contains source code for the carousel component which we gonna test.","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/note.d.foundation\/memo\/different-ways-to-test-react-application\/"},"author":{"@type":"Person","name":"Han Ngo"},"creator":{"@type":"Person","name":"Han Ngo"},"accountablePerson":{"@type":"Person","name":"Han Ngo"},"copyrightHolder":"Dwarves Foundation","copyrightYear":"2019","date":"2019-06-06T00:00:00.00Z","dateCreated":"2019-06-06T00:00:00.00Z","datePublished":"2019-06-06T00:00:00.00Z","dateModified":"2019-06-06T00:00:00.00Z","publisher":{"@type":"Organization","name":"Dwarves Foundation","url":"https://note.d.foundation/","logo":{"@type":"ImageObject","url":"https:\/\/note.d.foundation\/","width":"32","height":"32"}},"image":"https://note.d.foundation/","url":"https:\/\/note.d.foundation\/memo\/different-ways-to-test-react-application\/","wordCount":"1569","genre":["react.js"],"keywords":["react.js"]}</script><style>body{visibility:hidden;opacity:0}</style><noscript><style>body{visibility:visible;opacity:1}</style></noscript><script type=text/javascript>window.addEventListener("DOMContentLoaded",function(){document.body.style.visibility="visible",document.body.style.opacity=1})</script></head><body><div class=grid><h1 class=title><a style=color:inherit;text-decoration:none href=/site-index>Dwarves Notes</a></h1><div class=subtitle>A collection of notes for everything we do and operate at Dwarves.</div><div id=docsearch></div><nav class=tab-menu x-data="{
    currentUrl: `/memo/different-ways-to-test-react-application/`,
    links: [
      { title: 'Home', url: '/home/' },
      { title: 'Consulting', url: '/memo/consulting/' },
      { title: 'Labs', url: '/memo/labs' },
      { title: 'Earn', url: '/earn/' },
      { title: 'Hiring', url: '/hiring/' },
      { title: 'Newsletter', url: '/newsletter/' },
      { title: 'Events', url: '/events/' },
    ],
    activeUrl: '',
    isActiveUrl(url) {
      if (!this.activeUrl) {
        this.activeUrl = this.currentUrl.startsWith(url);
        return this.activeUrl;
      }
    },
  }"><ul><template x-for="item in links"><li x-bind:class="{ 'active': isActiveUrl(item.url) }"><a x-bind:href=item.url x-text=item.title></a></li></template></ul></nav><nav class=menu><section class=site-nav x-data='{
      currentUrl: `/memo/different-ways-to-test-react-application/`,
      get data() {
        const dataString = `[{"date":"2023-11-30T00:00:00Z","tags":["dwarves","forward-engineering","labs","duckdb","AI","rust","ui-practices","passwordless"],"title":"November Forward Engineering 2023","url":"/memo/forward-engineering-november-2023/"},{"date":"2023-11-23T00:00:00Z","tags":["dwarves","work","duckdb","internal","workshop","discussion","demo","event","labs"],"title":"DuckDB demo and showcase","url":"/memo/labs/events/duckdb-demo-and-showcase/"}]`;
        const data = JSON.parse(dataString);
        data.sort((a, b) => Date.parse(b.date) - Date.parse(a.date));
        console.log(data);
        return data;
      },
    }'><details open><summary>Pinned Notes</summary><ul><template x-for="item in data" x-bind:key=item><li><a x-bind:href=item.url x-text=item.title></a></li></template></ul></details></section></nav><main x-data='{
      currentUrl: `/memo/different-ways-to-test-react-application/`,
      title: `Different Ways To Test React Application`,
      get tagsData() {
        const dataString = `[{"tags":["react.js"],"url":"/memo/different-ways-to-test-react-application/"}]`;
        const data = JSON.parse(dataString);
        return data;
      },
      isClearPage() {
        const showFrontmatter = (/true/i).test(``);
        return !showFrontmatter || this.currentUrl.includes(&#39;home&#39;) || this.currentUrl.includes(&#39;tags&#39;);
      },
      isTagPage() {
        return this.currentUrl.includes(&#39;tags&#39;);
      }
    }'><template x-if=!!title><div x-bind:class="{ 'note-title': true, 'clear-title': isClearPage() }"><div class=title-index style=display:none>Different Ways To Test React Application</div><div class=tags-index style=display:none>tags: react.js</div><template x-if=isTagPage()><h1 class=pagetitle x-text="`#${title}`"></h1></template><template x-if=!isTagPage()><h1 class=pagetitle x-text=title>Different Ways To Test React Application</h1></template><div class=date>Jun 6, 2019</div><template x-for="data in tagsData"><template x-if="data.tags && data.tags.length > 0"><div class=tags>Tags:
<template x-for="tag in data.tags"><a class=tag x-bind:href="`/tags/${tag.toLowerCase()}`" x-text=tag></a></template></div></template></template></div><hr></template><p><img x-data="{
    altText: `b057b9816631efa15334f5edbd90c8ea_MD5.webp`,
    get altWidthHeight() {
      const widthHeightRegex = /^(\d+)(?!x)(\d*)$/g;
      return this.altText.match(widthHeightRegex) ?? [];
    },
  }" src=/memo/assets/different-ways-to-test-react-application/b057b9816631efa15334f5edbd90c8ea_MD5.webp alt=b057b9816631efa15334f5edbd90c8ea_MD5.webp x-bind:style="{ width: altWidthHeight[0] + 'px', height: altWidthHeight[1] + 'px' }" onerror="this.onerror=null"></p><h2 id=introduction><a href=#introduction>Introduction <a href=#introduction></a></a></h2><p>There are 2 practical types of testing a front end application: test its implementation details (unit test, integration test combine with assert states of the component being tested) or testing its behavior base on perspective (e2e, integration test).</p><p>The content below assumes you already know about React hook (which is a new feature of React 16.08)</p><p>This is a repository link: <a href=https://github.com/phmngocnghia/TestReactComponent>https://github.com/phmngocnghia/TestReactComponent</a><br>This repository contains source code for the carousel component which we gonna test.</p><h2 id=carousel-is-specifications><a href=#carousel-is-specifications>Carousel is specifications <a href=#carousel-is-specifications></a></a></h2><p><img x-data="{
    altText: `873b9dc0badda67e3d5ef65f63c7d160_MD5.webp`,
    get altWidthHeight() {
      const widthHeightRegex = /^(\d+)(?!x)(\d*)$/g;
      return this.altText.match(widthHeightRegex) ?? [];
    },
  }" src=/memo/assets/different-ways-to-test-react-application/873b9dc0badda67e3d5ef65f63c7d160_MD5.webp alt=873b9dc0badda67e3d5ef65f63c7d160_MD5.webp x-bind:style="{ width: altWidthHeight[0] + 'px', height: altWidthHeight[1] + 'px' }" onerror="this.onerror=null"></p><ul><li>When press right arrow, the next image will be displayed by the slide in animation</li><li>When press left arrow, the previous image will be displayed by the slide out animation</li><li>When the last image displayed and the right arrow pressed then the slider will display the first image.</li><li>The same thing happened to the first image and the left button.</li></ul><h2 id=unit-testing-using-component-react-testing-library><a href=#unit-testing-using-component-react-testing-library>Unit testing using component react-testing-library <a href=#unit-testing-using-component-react-testing-library></a></a></h2><p>The react-testing-library is a very light-weight solution for testing React components. It provides light utility functions on top of react-dom and react-dom/test-utils, in a way that encourages better testing practices.</p><p>The react-hooks-testing-library allows you to create a simple test harness for React hooks that handles running them within the body of a function component, as well as providing various useful utility functions for updating the inputs and retrieving the outputs of your amazing custom hook.</p><p>To run integration tests for the application in the repository above, you can run the command:</p><ul><li>yarn test — This command will execute all unit test for the carousel component.</li></ul><p>To test React component using react-testing-utility, we mount it with the render function exposed by the library @testing-library/react. Then we use object spread notation to extract utility functions such as getById, getByText… etc.</p><p>Their purpose is used for select element purpose. The return value would be a dom element. You can view all selector function from render function at <a href=https://testing-library.com/docs/dom-testing-library/api-queries>https://testing-library.com/docs/dom-testing-library/api-queries</a></p><p>When you’re writing tests, you often need to check that values meet certain conditions. <code>assert function</code> gives you access to an API that let you validate different things. the API of an assertion function depends on what kind of assert library your test run on. The example below used Jest as both test runner and assertion library, more details at <a href=https://jestjs.io/docs/en/getting-started>https://jestjs.io/docs/en/getting-started</a></p><pre><code class=language-javascript>import { render, cleanup } from '@testing-library/react'

it('arrow left handler event set currentIndex (initialised) from 1 to 2 when invoked', () =&gt; {
  const {
    getByTestId
  } = render(&lt;App /&gt;)

  const rightArrowButton = getByTestId('rightCarouselArrowButton')
  rightArrowButton.click()

  expect(global.exposedCarouselComponentData.currentImageIndex).toBe(1)
})
</code></pre><p>Different when compare to enzyme, we can’t assert and access states of the function component when testing. We exposed it variable outside to global object and assert when testing:</p><pre><code class=language-javascript>// Expose data out for testing process
  if (process.env.REACT_APP_IS_TEST_MODE === 'true') {
    global.exposedCarouselComponentData = {
      arrowLeftOnClick,
      arrowRightClick,
      currentImageIndex
    }
  }
</code></pre><p><strong>Pros:</strong></p><ul><li>Blazing fast</li></ul><p><strong>Cons:</strong></p><ul><li>Some DOM limitations such as Observer, no layout engine…</li><li>Not support feature to assert component hook detail</li></ul><p><strong>Best use for:</strong></p><ul><li>Test implement detail while developing. Assert state by exposing the state to the global object</li></ul><h2 id=testing-react-using-react-testing-hook-library><a href=#testing-react-using-react-testing-hook-library>Testing react using react-testing-hook-library <a href=#testing-react-using-react-testing-hook-library></a></a></h2><p>Hook function not only allows us to use features of the class component inside the functional component, extract and reuse many repetitive logic patterns but also allow us to extract the logic belong specific domain of that component to an isolated part.</p><pre><code class=language-javascript>const Carousel = ({
  currentFocusImageIndex,
  onChangeNext,
  onChangePrev,
  children = [],
}) =&gt; {
  const containerRef = useRef()

  const { widthOfInnerContainer, containerWidth } = useCarouselReactResizeObserver({
    containerRef,
    childrenLength: children.length
  })

  const {
    setCurrentImageIndex,
    currentImageIndex,
  } = useCarouseSetImageIndex({
    childrenLength: children.length,
    displayPaginator: 10,
  })

  // Handle dnd
  const arrowRightClick = () =&gt; {
    // From the item in last index move backward 1 item
    if (currentImageIndex === children.length-1) {
      setCurrentImageIndex(0)
      return
    }

    setCurrentImageIndex(currentImageIndex + 1)
  }

  const arrowLeftOnClick = () =&gt; {
    // From the item index 0 move backward 1 item
    if (currentImageIndex === 0) {
      setCurrentImageIndex(children.length - 1)
      return
    }

    setCurrentImageIndex(currentImageIndex-1)
  }

  // Expose data out for testing process
  if (process.env.REACT_APP_IS_TEST_MODE === 'true') {
    global.exposedCarouselComponentData = {
      arrowLeftOnClick,
      arrowRightClick,
      currentImageIndex
    }
  }

  return (
    // Copy div from outter container and watch for size change
    &lt;div className={innerContainer} ref={containerRef}&gt;
      {/* Arrow */}
      &lt;button data-testid=&quot;leftCarouselArrowButton&quot; className={arrowButton} onClick={arrowLeftOnClick}&gt;
        &lt;FaChevronLeft size=&quot;25&quot; color=&quot;white&quot; /&gt;
      &lt;/button&gt;
      &lt;button data-testid=&quot;rightCarouselArrowButton&quot; className={[arrowButton, arrowButtonRight].join(' ')} onClick={arrowRightClick}&gt;
        &lt;FaChevronRight size=&quot;25&quot; color=&quot;white&quot; /&gt;
      &lt;/button&gt;

      {/* Use for transit slide */}
      &lt;div
        data-testid=&quot;carouselContainer&quot;
        className={container}
        style={{
          width: widthOfInnerContainer,
          transform: `translateX(-${currentImageIndex * containerWidth}px)`
        }}&gt;
        {/* slide container */}
        {children.map(element =&gt; (
          &lt;div
            data-testid=&quot;CarouselChildContainer&quot;
            className={childContainer}
            style={{
              width: containerWidth
            }}
          &gt;
            {element}
          &lt;/div&gt;
        ))}
      &lt;/div&gt;
    &lt;/div&gt;
  )
}
</code></pre><p>In the code above, the logic of the hook may only use apply to carousel-component and may not apply to other components but it solves a specific problem of the carousel component so I extract it into a hook.</p><pre><code class=language-javascript>import {
  useState,
  useEffect,
  useMemo, 
} from 'react'

export default ({
  childrenLength,
  initialImageIndex = 0,
  numDisplayPaginator,
}) =&gt; {
  const [currentImageIndex, setCurrentImageIndex] = useState(0)

  useEffect(() =&gt; {
    setCurrentImageIndex(initialImageIndex)
  }, [initialImageIndex])

  const endOfTheLeftMiddle = useMemo(() =&gt; {
    return (numDisplayPaginator / 2) + 1
  }, [numDisplayPaginator])

  const minDisplayPaginatorIndex = useMemo(() =&gt; {
    // * Case 1: index in 1 -&gt; (numDisplayPaginator/ 2)
    if (1 &gt;= currentImageIndex &amp;&amp; currentImageIndex &lt;= endOfTheLeftMiddle) {
      return 0
    }

    // * Case 2: index + 1 &gt; (numDisplayPaginator / 2)
    let offset = currentImageIndex - endOfTheLeftMiddle
    let maxDisplayPaginatorIndex = offset + numDisplayPaginator

    if (maxDisplayPaginatorIndex &gt;= childrenLength) {
      offset -= (maxDisplayPaginatorIndex - childrenLength)
    }

    return 1 + offset
  }, [childrenLength, currentImageIndex, endOfTheLeftMiddle, numDisplayPaginator])

  const maxDisplayPaginatorIndex = useMemo(() =&gt; {
    // * Case 1: index in 1 -&gt; (numDisplayPaginator/ 2)
    if (1 &gt;= currentImageIndex &amp;&amp; currentImageIndex &lt;= (numDisplayPaginator)) {
      return numDisplayPaginator
    }

    // * Case 2: index + 1 &gt; (numDisplayPaginator / 2)
    const offset = currentImageIndex - endOfTheLeftMiddle
    let maxDisplayPaginatorIndex = offset + numDisplayPaginator

    if (maxDisplayPaginatorIndex &gt;= childrenLength) {
      maxDisplayPaginatorIndex = childrenLength
    }

    return maxDisplayPaginatorIndex
  }, [childrenLength, currentImageIndex, endOfTheLeftMiddle, numDisplayPaginator])

  return {
    currentImageIndex,
    setCurrentImageIndex,
    maxDisplayPaginatorIndex,
    minDisplayPaginatorIndex,

    // Testing purpose
    endOfTheLeftMiddle
  }
}
</code></pre><p>Test a hook is very identical when we test against react component. We using the render hook function to mount the hook. the result of the function would be the instance of the hook. Where you can access all property of the hooks such as Its states or its function as long as you return the data you want to access from the hook.</p><pre><code class=language-javascript>import { renderHook, act } from 'react-hooks-testing-library'
import useCarouseImageIndex from '../../components/Carousel/useCarouseSetImageIndex'

  it('return correct end of the left middle of display paginator number', () =&gt; { const { result } = renderHook(() =&gt; useCarouseImageIndex({
      childrenLength: 100,
      initialImageIndex: 0,
      numDisplayPaginator: 10
    }))

    expect(result.current.endOfTheLeftMiddle).toBe(6)
  })
</code></pre><p><strong>Pros:</strong></p><ul><li>Same as react testing library</li><li>Since we could extract hooks to test it in an isolated environment, we don’t have to manually expose it to the global variable.</li></ul><p><strong>Cons:</strong></p><ul><li>Can only use for test hook of functional react component.</li></ul><p><strong>Best use for:</strong></p><ul><li>Test implement detail while developing.</li></ul><h2 id=e2e-test-using-cypress><a href=#e2e-test-using-cypress>E2e test using Cypress <a href=#e2e-test-using-cypress></a></a></h2><p>End-to-end testing is awesome because it mirrors the user’s experience. Where you might need a ton of unit tests to get good coverage (the kind where you test that a function returns a value you expect).</p><p>E2e test using cypress is executed by cypress test runner. With cy instance, Its exposed some utility functions such as visit page, query selector on that page, assert if the selector existed and many more.</p><pre><code class=language-javascript>it('Render container of child cotainer equal the width of wrapper container (that wrap carousel component)', async () =&gt; {
      cy.visit('http://localhost:3000')
      cy.viewport(1920, 1080)
      cy.wait(200)
      cy.getByTestId('testCarouselContainer').then(elem =&gt; {
        const carouselContainerWidth = elem[0].clientWidth
        cy.getAllByTestId('testCarouselContainer').then(carouselChildContainers =&gt; {
          for (let carouselChildContainer of carouselChildContainers) {
            expect(carouselChildContainer.clientWidth).to.be.equal(carouselContainerWidth)
          }
        })
      })
    })
</code></pre><ul><li>visit command: visit a web page</li><li>viewport: set it screen size with a specific size</li><li>wait: wait for specific time</li><li>getByTestId: get element on page by data-testId. Since this command run asynchronously, we need to chain it then to get It’s result. The way Its asynchronous API work is like Promise API but it, not a Promise so we can’t wait for it using ES6 await syntax. If you want await it, you can use cypress-promise library which allows wrapping cypress statemen in a function that return a promise so you can await it</li></ul><pre><code class=language-javascript>import promisify from 'cypress-promise'

   it('Render container of child cotainer equal the width of wrapper container (that wrap carousel component) - Resize version', async () =&gt; {
      cy.visit('http://localhost:3000')
      cy.viewport(1920, 1080)
      // Give obersve resizer some time for react
      cy.wait(100)
      cy.viewport(800, 1600)
      cy.wait(250)

      const elem = await promisify(cy.getByTestId('testCarouselContainer'))
      const carouselContainerWidth = elem[0].clientWidth
      cy.getAllByTestId('testCarouselContainer').then(carouselChildContainers =&gt; {
        for (let carouselChildContainer of carouselChildContainers) {
          expect(carouselChildContainer.clientWidth).to.be.equal(carouselContainerWidth)
          expect(carouselChildContainer.clientWidth).to.be.equal(800)
        }
      })
    })
</code></pre><p>You can view Its full API detail at <a href=https://docs.cypress.io/api/api/table-of-contents.html>https://docs.cypress.io/api/api/table-of-contents.html</a><br>To run e2e tests for the application in the repository above, you can run the command:</p><ul><li>yarn e2e — It’s run cypress test in headless mode</li><li>yarn e2e:open — Open cypress dashboard which is a great feature of cypress when compare to other e2e testings tools.</li></ul><p><strong>Pros:</strong></p><ul><li>Native browser environment</li><li>Very fast, e2e test just feel like doing integration test or unit test</li></ul><p><strong>Cons:</strong></p><ul><li>Very simple DOM event support, compared to other tools like TestCafe in some features like drag and drop and upload file won’t work properly or require custom plugins or tricks to work with.</li><li>Although e2e test using cypress feel very fast and smooth, it’s the lowest way to test react application compare to other test methods (unit test, integration test)</li></ul><p><strong>Best use for:</strong></p><ul><li>Testing as user perspective</li></ul><h2 id=conclusion><a href=#conclusion>Conclusion <a href=#conclusion></a></a></h2><p>I’m writing this mainly as a reference for myself, but hopefully, other people will find this useful as well.</p><p>Reference links:</p><ul><li><a href=https://testing-library.com/docs/react-testing-library/api>https://testing-library.com/docs/react-testing-library/api</a></li><li><a href=https://github.com/testing-library/react-testing-library>https://github.com/testing-library/react-testing-library</a></li><li><a href=https://www.cypress.io/>https://www.cypress.io/</a></li><li><a href=https://www.cypress.io/>https://www.cypress.io/</a><a href=https://jestjs.io/docs/en/expect.html>https://jestjs.io/docs/en/expect.html</a></li></ul></main></div><footer><span><b>Dwarves, LLC</b> © 2015 - 2023 All rights reserved.</span></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-core.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/autoloader/prism-autoloader.min.js></script></body></html>